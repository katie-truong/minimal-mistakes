---
layout: single
title: "How Twitter users reacted to Brexit"
description: "My attempt to use the TwitteR and qdap packages in tweet mining and sentimental analysis"
category: R
tags: [r, brexit, twitter, sentimental analysis]
comments: true
---



"What do you think about Brexit?" asked the interviewer, in my very first job interview in Vietnam, on June 24, 2016. Being unplugged from the Internet for 18 hours on the airplane from US to Vietnam, and another 12 hours of sleep due to jetlag, I was stunned. Being so unexpected as it was, Brexit cost me a job offer. However, also being hugely popular and polarized, it gives me a great opportunity to practice text mining and sentimental analysis. In this post, I would demonstrate the process of using the `TwitteR` and `qdap` packages, along with other common packages, to analyze the reaction of Twitter users on June 24, 2016, the day Brexit happened.


## Getting the data

The process of mining tweets is indeed straightforward, thanks to the awesome `TwitteR` package. However, the prepration is somewhat cumbersome, which I would demonstrate in another post. The goal is get **Consumer Key**, **Consumer Secret**, **Access Token** and **Access Token Secret**, in order for the `setup_twitter_oauth` function to work. 

After setting up authentication, the real process of mining tweets would be fairly easy with only function `searchTwitter` needed, and `twListToDF` in case you want to convert the results to a data frame. 

Let's assume **Consumer Key**, **Consumer Secret**, **Access Token** and **Access Token Secret** be **A**, **B**, **C** and **D** respectively (the real keys and secrets would be series of multiple characters and numbers), the process of getting 10,000 tweets with hashtag **#Brexit** on June 24, 2016 would be like this:

{% highlight r %}
consumer_key = 'A'
consumer_secret = 'B'
access_token = 'C'
access_secret = 'D'

setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)

#Scrape the data, 10000 tweets, language = English
brexit = searchTwitter("#Brexit", n = 50000, since = "2016-06-23", until = "2016-06-24", lang = "en")
brexit = twListToDF(brexit)
{% endhighlight %}
